import{_ as D,r as L,s as N,x as E,y as F,z as _,A as I,B as P,C as a,D as n,E as c,F as t,G as S,o as e,H as u,J as T,N as i,L as d,K as y,O as C,V as B,P as M,Q as U}from"./index-25cb404b.js";import{V as $,a as z,b as G,c as H,d as J}from"./VNavigationDrawer-9bcdca70.js";import{a as v,V as f,b as K}from"./VList-abf4fde2.js";import{V as O}from"./VDivider-ab78a0b3.js";import"./ssrBoot-747246da.js";const Q={class:"pa-2"},R={__name:"AdminLayout",setup(j){const{apiAuth:A}=U(),w=L(),V=N(),r=E(),{mobile:h}=F(),k=_(()=>h.value),p=I(!1),b=_(()=>[{to:"/",icon:"mdi-home",text:"首頁"},{to:"/admin/reservation",icon:"mdi-clipboard-plus-outline",text:"今日預約"},{to:"/admin/worker",icon:"mdi-clipboard-text-clock-outline",text:"師傅管理"},{to:"/admin/data",icon:"mdi-poll",text:"觀看數據"}]),g=async()=>{var m,l;try{await A.delete("/users/logout"),r.logout(),V({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:1e3,color:"#8C8987",location:"center"}}),w.push("/")}catch(s){console.log(s);const o=((l=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:l.message)||"發生錯誤，請稍後再試";V({text:o,showCloseButton:!1,snackbarProps:{timeout:1500,color:"error",location:"center"}})}},x=_(()=>`https://source.boringavatars.com/beam/120${r.account}?colors=4EB3DE,8DE0A6,FCF09F,F27C7C,DE528C`);return(m,l)=>{const s=P("router-view");return a(),n(u,null,[k.value?(a(),c($,{key:0,class:"bg-color",modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=o=>p.value=o),temporary:"",location:"right"},{append:t(()=>[T("div",Q,[e(d,{class:"logout-bg-color logout-color",block:"",onClick:g},{default:t(()=>[i("登出")]),_:1})])]),default:t(()=>[e(f,null,{default:t(()=>[e(v,{"prepend-avatar":x.value,title:y(r).account},null,8,["prepend-avatar","title"])]),_:1}),e(O),e(f,{nav:""},{default:t(()=>[(a(!0),n(u,null,C(b.value,o=>(a(),c(v,{key:o.to,class:"color",exact:"",to:o.to},{prepend:t(()=>[e(B,{icon:o.icon},null,8,["icon"])]),default:t(()=>[e(K,null,{default:t(()=>[i(M(o.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["modelValue"])):S("",!0),e(z,{elevation:24,color:"#403635"},{prepend:t(()=>[e(d,{to:"/",active:!1},{default:t(()=>[e(B,{class:"color"},{default:t(()=>[i("mdi-hand-okay")]),_:1}),e(H,{class:"color"},{default:t(()=>[i("出來喬")]),_:1})]),_:1})]),default:t(()=>[k.value?(a(),c(J,{key:0,class:"color",onClick:l[1]||(l[1]=o=>p.value=!0)})):(a(),n(u,{key:1},[e(f,{class:"bg-color"},{default:t(()=>[e(v,{class:"mt-1","prepend-avatar":x.value,title:y(r).account},null,8,["prepend-avatar","title"])]),_:1}),(a(!0),n(u,null,C(b.value,o=>(a(),c(d,{key:o.to,class:"color",exact:"",to:o.to,icon:o.icon},null,8,["to","icon"]))),128)),e(d,{icon:"mdi-logout",onClick:g})],64))]),_:1}),e(G,null,{default:t(()=>[e(s)]),_:1})],64)}}},ee=D(R,[["__scopeId","data-v-8c3eb256"]]);export{ee as default};
